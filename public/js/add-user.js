import e from"./reset-field.js";let create_user_modal=document.getElementById("create-user"),edit_user_modal=document.getElementById("edit-user");export default function t(){let t=document.getElementById("edit-error"),l=document.getElementById("create-error");document.getElementById("open-modal").onclick=function(){create_user_modal.style.display="block"},document.querySelectorAll(".edit-user").forEach(t=>{t.onclick=function(){let l=t.parentElement.parentElement;edit_user_modal.querySelector("form").action=updateAction(edit_user_modal.querySelector("form").action,l.children[0].textContent),edit_user_modal.querySelector(".id").value=l.children[0].textContent,edit_user_modal.querySelector(".name input").value=l.children[1].textContent,edit_user_modal.querySelector(".username input").value=l.children[2].textContent,edit_user_modal.querySelector(".email input").value=l.children[3].textContent,edit_user_modal.style.display="block",e(["#edit-user .name","#edit-user .username","#edit-user .email"])}}),document.querySelectorAll(".close-modal").forEach(e=>{e.onclick=closeModals}),window.onclick=function(e){e.target==create_user_modal?closeModals():e.target==edit_user_modal&&closeModals()},""!=t.value?document.querySelectorAll(".edit-user").forEach(e=>{e.parentElement.parentElement.children[0].textContent==t.value&&e.click()}):""!=l.value&&(create_user_modal.style.display="block")};function closeModals(){create_user_modal&&(create_user_modal.style.display="none"),edit_user_modal&&(edit_user_modal.style.display="none"),document.querySelectorAll(".text-danger").forEach(e=>{e.textContent=""})}function updateAction(e,t){let l=new URL(e);return l.pathname=l.pathname.replace(/\/users\/\d+/,"/users/"+t),l.toString()}